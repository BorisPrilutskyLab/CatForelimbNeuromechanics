clear
clc

% This M-file creates an animation of individual muscles as well as the equivalent muscles.


 
f = 0;
cmap = [[0 1 0]; [0 0 1]; [0 1 1]; ...
        [0.4940 0.1840 0.5560]; [0.4660 0.6740 0.1880]; ...
        [0.3010 0.7450 0.9330]; [0.6350 0.0780 0.1840]; [1 0 1]; [0.75, 0.75, 0]];

figure(3)
pause(2)
for ii = 77 %1:1:101 %50 for saving a specific frame (uncomment savefig)


% 1
Results_1
hold on
pause (0)

% 2
Results_2
hold on
pause (0)

% 3
Results_3
hold on
pause (0)


% 4
Results_4
hold on
pause (0)

% 5
Results_5
hold on
pause (0)

% 6
Results_6
hold on
pause (0)

% 7
Results_7
hold on
pause (0)

% 8
Results_8
hold on
pause (0)

% 9
Results_9
hold on
pause (0)





% 1
Muscle_Length_Computation_Acromiodeltoideus_1_2
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 2
Muscle_Length_Computation_Anconeus_3_4
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 3
 Muscle_Length_Computation_BicepsBrachii_8_9
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)


% 4
Muscle_Length_Computation_Brachioradialis_10_11_12
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 5
Muscle_Length_Computation_Brachialis_13_14
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 6
Muscle_Length_Computation_Coracobrachialis_15_16
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 7
Muscle_Length_Computation_ExtensorCarpiRadialis_17_18_19
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 8
Muscle_Length_Computation_ExtensorDigitorumCommunis2_23_24_25
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 9
Muscle_Length_Computation_ExtensorDigitorumCommunis3_26_27_28
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 10
Muscle_Length_Computation_ExtensorDigitorumCommunis4_29_30_31
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 11
Muscle_Length_Computation_ExtensorDigitorumCommunis5_32_33_34
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 12
Muscle_Length_Computation_ExtensorPollicisLongus1_47_48_49
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 13
Muscle_Length_Computation_ExtensorPollicisLongus2_50_51_52
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 14
Muscle_Length_Computation_Epitrochlearis_53_54
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 15
Muscle_Length_Computation_FlexorCarpiRadialis_55_56_57
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 16
Muscle_Length_Computation_FlexorCarpiUlnaris_58_59_60
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 17
Muscle_Length_Computation_FlexorDigitorumProfundus1_61_62_63
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 18
Muscle_Length_Computation_FlexorDigitorumProfundus2_64_65_66
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 19
Muscle_Length_Computation_FlexorDigitorumProfundus3_67_68_69
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 20
Muscle_Length_Computation_FlexorDigitorumProfundus4_70_71_72
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 21
Muscle_Length_Computation_FlexorDigitorumProfundus5_73_74_75
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 22
Muscle_Length_Computation_FlexorDigitorumSuper2_76_77_78
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 23
Muscle_Length_Computation_FlexorDigitorumSuper3_79_80_81
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 24
Muscle_Length_Computation_FlexorDigitorumSuper4_82_83_84
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 25
Muscle_Length_Computation_FlexorDigitorumSuper5_85_86_87
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 26
Muscle_Length_Computation_Infraspinatus_88_89_90
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 27
Muscle_Length_Computation_PalmarisLongus1_91_92_93
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 28
Muscle_Length_Computation_PalmarisLongus2_94_95_96
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 29
Muscle_Length_Computation_PalmarisLongus3_97_98_99
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 30
Muscle_Length_Computation_PalmarisLongus4_100_101_102
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 31
Muscle_Length_Computation_PalmarisLongus5_103_104_105
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 32
Muscle_Length_Computation_PronatorTeres_106_107
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 33
Muscle_Length_Computation_Spinodeltoideus_108_109
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 34
Muscle_Length_Computation_Supraspinatus_110_111
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 35
Muscle_Length_Computation_Subscapularis_112_113
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 36
Muscle_Length_Computation_TeresMajor114_115
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 37
Muscle_Length_Computation_TricepsBrachiiLateralis_116_117
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 38
 Muscle_Length_Computation_TricepsBrachiiLong_118_119
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 39
Muscle_Length_Computation_TricepsBrachiiMedial_120_121
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)

% 40
Muscle_Length_Computation_TeresMinor_122_123 
% close(figure(1)); close(figure(2)); close(figure(3)); 
hold on
pause (0)



hold off

%save figure to create gif file
filename = ['Muscle Simulation', '.gif'];
% h= figure(4);
drawnow
% Capture the plot as an image
frame = getframe(h);
im = frame2im(frame);
[imind,cm] = rgb2ind(im,250);
% Write to the GIF File
if f == 0
imwrite(imind,cm,filename,'gif', 'Loopcount',inf);
else
imwrite(imind,cm,filename,'gif','WriteMode','append','DelayTime',0.1);
end
f=f+1;
F(ii) = getframe(gcf); 

end

% savefig('Figure 3.fig');





























